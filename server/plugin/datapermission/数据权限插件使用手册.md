# æ•°æ®æƒé™ç®¡ç†æ’ä»¶ä½¿ç”¨æ‰‹å†Œ

## ğŸ“– ç›®å½•

- [æ’ä»¶ç®€ä»‹](#æ’ä»¶ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å®‰è£…é…ç½®](#å®‰è£…é…ç½®)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [APIæ¥å£](#apiæ¥å£)
- [ä»£ç ç¤ºä¾‹](#ä»£ç ç¤ºä¾‹)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

## ğŸš€ æ’ä»¶ç®€ä»‹

æ•°æ®æƒé™ç®¡ç†æ’ä»¶æ˜¯ä¸“ä¸º gin-vue-admin æ¡†æ¶å¼€å‘çš„ä¼ä¸šçº§æ•°æ®æƒé™æ§åˆ¶è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡çµæ´»çš„è§’è‰²æ ‘ç®¡ç†ã€ç»†ç²’åº¦çš„æ•°æ®èŒƒå›´æ§åˆ¶å’Œå­—æ®µçº§æƒé™ç®¡ç†ï¼Œå¸®åŠ©ä¼ä¸šæ„å»ºå®‰å…¨ã€é«˜æ•ˆçš„æ•°æ®è®¿é—®æ§åˆ¶ä½“ç³»ã€‚

### æ ¸å¿ƒæ¦‚å¿µ

- **å—æ§è¡¨ï¼ˆControlledTableï¼‰**: éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶çš„æ•°æ®åº“è¡¨
- **æ•°æ®èŒƒå›´ï¼ˆDataScopeï¼‰**: æ§åˆ¶ç”¨æˆ·å¯ä»¥è®¿é—®çš„æ•°æ®èŒƒå›´ï¼ˆå…¨éƒ¨ã€éƒ¨é—¨ã€ä¸ªäººç­‰ï¼‰
- **å­—æ®µæƒé™ï¼ˆFieldPermissionï¼‰**: æ§åˆ¶å­—æ®µçš„å¯è§æ€§ã€ç¼–è¾‘æƒé™ã€å¯¼å‡ºæƒé™ã€æŸ¥è¯¢æƒé™
- **è§’è‰²æƒé™ï¼ˆRolePermissionï¼‰**: åŸºäºè§’è‰²çš„æƒé™é…ç½®

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ•°æ®æƒé™æ§åˆ¶
- ğŸŒ³ **è§’è‰²æ ‘ç®¡ç†** - ä¸ç³»ç»Ÿè§’è‰²ä¿æŒä¸€è‡´çš„å±‚çº§ç»“æ„
- ğŸ” **æ•°æ®èŒƒå›´æ§åˆ¶** - æ”¯æŒå…¨éƒ¨ã€æœ¬éƒ¨é—¨ã€æœ¬éƒ¨é—¨åŠå­éƒ¨é—¨ã€ä»…æœ¬äººã€è‡ªå®šä¹‰ç­‰å¤šç§æ•°æ®èŒƒå›´
- ğŸ·ï¸ **å­—æ®µçº§æƒé™** - ç²¾ç¡®æ§åˆ¶ç”¨æˆ·å¯è§çš„æ•°æ®å­—æ®µ
- ğŸ“Š **å—æ§è¡¨ç®¡ç†** - åŠ¨æ€é…ç½®éœ€è¦æƒé™æ§åˆ¶çš„æ•°æ®è¡¨

### å®‰å…¨ç‰¹æ€§
- ğŸ›¡ï¸ **SQLæ³¨å…¥é˜²æŠ¤** - å†…ç½®SQLæ³¨å…¥æ£€æŸ¥ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- âš¡ **é«˜æ€§èƒ½ç¼“å­˜** - æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œæå‡æƒé™æ£€æŸ¥æ•ˆç‡
- ğŸ“ **æ“ä½œæ—¥å¿—** - å®Œæ•´çš„æƒé™æ“ä½œå®¡è®¡æ—¥å¿—

### æŠ€æœ¯ç‰¹æ€§
- ğŸ”„ **è‡ªåŠ¨æ‹¦æˆª** - åŸºäºGORMæ‹¦æˆªå™¨çš„è‡ªåŠ¨æƒé™æ§åˆ¶
- ğŸ¯ **é›¶ä¾µå…¥** - ä¸šåŠ¡ä»£ç æ— éœ€ä¿®æ”¹ï¼Œè‡ªåŠ¨åº”ç”¨æƒé™
- ğŸ”§ **çµæ´»é…ç½®** - æ”¯æŒå¤šç§é…ç½®æ–¹å¼å’Œè‡ªå®šä¹‰æ‰©å±•

## ğŸ› ï¸ å®‰è£…é…ç½®

### ç¯å¢ƒè¦æ±‚
- **åç«¯**: Go 1.19+, gin-vue-admin v2.5.0+
- **å‰ç«¯**: Vue 3.0+, Element Plus 2.0+
- **æ•°æ®åº“**: MySQL 5.7+ / PostgreSQL 12+ / SQLite 3.0+

### æ’ä»¶ç»“æ„

#### åç«¯æ–‡ä»¶ç»“æ„
```
server/plugin/datapermission/
â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”œâ”€â”€ data_permission.go  # æ•°æ®æƒé™API
â”‚   â””â”€â”€ enter.go           # APIå…¥å£
â”œâ”€â”€ model/                  # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ model.go           # æ ¸å¿ƒæ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ request/           # è¯·æ±‚æ¨¡å‹
â”‚   â””â”€â”€ response/          # å“åº”æ¨¡å‹
â”œâ”€â”€ service/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ data_permission.go  # æ•°æ®æƒé™æœåŠ¡
â”‚   â””â”€â”€ enter.go           # æœåŠ¡å…¥å£
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ data_permission.go  # æƒé™è·¯ç”±
â”‚   â””â”€â”€ enter.go           # è·¯ç”±å…¥å£
â”œâ”€â”€ utils/                  # å·¥å…·ç±»
â”‚   â”œâ”€â”€ interceptor.go     # æ•°æ®æƒé™æ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ middleware.go      # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ permission.go      # æƒé™åŠ©æ‰‹
â”‚   â””â”€â”€ enhanced_helper.go # å¢å¼ºåŠ©æ‰‹
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.go          # é…ç½®ç»“æ„
â”‚   â””â”€â”€ config.yaml        # é…ç½®æ–‡ä»¶
â”œâ”€â”€ global/                 # å…¨å±€å˜é‡
â”‚   â””â”€â”€ global.go          # å…¨å±€å®šä¹‰
â””â”€â”€ plugin.go              # æ’ä»¶æ³¨å†Œ
```

#### å‰ç«¯æ–‡ä»¶ç»“æ„
```
web/src/plugin/datapermission/
â”œâ”€â”€ api/                    # APIæ¥å£
â”‚   â””â”€â”€ dataPermission.js  # æ•°æ®æƒé™API
â”œâ”€â”€ components/             # ç»„ä»¶åº“
â”‚   â”œâ”€â”€ RoleTree.vue       # è§’è‰²æ ‘ç»„ä»¶
â”‚   â””â”€â”€ DataPermissionConfig.vue # æƒé™é…ç½®ç»„ä»¶
â”œâ”€â”€ view/                   # é¡µé¢è§†å›¾
â”‚   â””â”€â”€ index.vue          # ä¸»é¡µé¢
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js           # è·¯ç”±å®šä¹‰
â”œâ”€â”€ index.js               # æ’ä»¶å…¥å£
â””â”€â”€ README.md              # ç»„ä»¶æ–‡æ¡£
```

### é…ç½®æ–‡ä»¶

#### åç«¯é…ç½® (config.yaml)
```yaml
# æ•°æ®æƒé™æ’ä»¶é…ç½®
datapermission:
  enabled: true                    # æ˜¯å¦å¯ç”¨æ’ä»¶
  default-data-scope: self         # é»˜è®¤æ•°æ®èŒƒå›´
  field-permission-enabled: true   # æ˜¯å¦å¯ç”¨å­—æ®µæƒé™
  sql-injection-check: true        # æ˜¯å¦æ£€æŸ¥SQLæ³¨å…¥
  cache:
    enabled: true                  # æ˜¯å¦å¯ç”¨ç¼“å­˜
    expiration: 300               # ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
    key-prefix: "data_permission:" # ç¼“å­˜é”®å‰ç¼€
  log:
    enabled: true                  # æ˜¯å¦å¯ç”¨æ—¥å¿—
    level: info                   # æ—¥å¿—çº§åˆ«
    log-sql: true                 # æ˜¯å¦è®°å½•SQL

# æ’ä»¶è·¯ç”±é…ç½®
router:
  prefix: "/api/datapermission"    # è·¯ç”±å‰ç¼€
  
# æ•°æ®åº“è¡¨é…ç½®
database:
  auto-migrate: true               # æ˜¯å¦è‡ªåŠ¨è¿ç§»
  tables:
    - controlled_table             # å—æ§è¡¨
    - role_data_permission         # è§’è‰²æ•°æ®æƒé™
    - role_field_permission        # è§’è‰²å­—æ®µæƒé™
```

## ğŸ“‹ ä½¿ç”¨æ–¹æ³•
### 1. éœ€è¦ä¿®æ”¹çš„ä»£ç 

server/middleware/casbin_rbac.go

CasbinHandler  åœ¨c.Set("userID", waitUse.BaseClaims.ID) ä¸Šæ–¹å¢åŠ   c.Set("authorityIds", waitUse.AuthorityIds)

server/model/system/request/jwt.go
BaseClaims å¢åŠ 
AuthorityIds []uint

### 2. è·¯ç”±ä¸­é—´ä»¶é…ç½®

åœ¨éœ€è¦æ•°æ®æƒé™æ§åˆ¶çš„è·¯ç”±ä¸­æ·»åŠ ä¸­é—´ä»¶ï¼š

```go
// æ¨èæ–¹å¼ï¼šä½¿ç”¨è‡ªåŠ¨æ‹¦æˆªå™¨ä¸­é—´ä»¶
import perUtil "github.com/flipped-aurora/gin-vue-admin/server/plugin/datapermission/utils"

func (s *UserRouter) InitUserRouter(Router *gin.RouterGroup) {
    // ä½¿ç”¨æ•°æ®æƒé™è‡ªåŠ¨ä¸­é—´ä»¶
    userRouter := Router.Group("user").Use(perUtil.DataPermissionAutoMiddleware())
    userRouterWithoutRecord := Router.Group("user").Use(perUtil.DataPermissionAutoMiddleware())
    
    {
        userRouter.POST("admin_register", baseApi.Register)
        userRouter.POST("changePassword", baseApi.ChangePassword)
        userRouter.DELETE("deleteUser", baseApi.DeleteUser)
        // ... å…¶ä»–éœ€è¦æƒé™æ§åˆ¶çš„æ¥å£
    }
    {
        userRouterWithoutRecord.POST("getUserList", baseApi.GetUserList) // åˆ†é¡µè·å–ç”¨æˆ·åˆ—è¡¨
        userRouterWithoutRecord.GET("getUserInfo", baseApi.GetUserInfo)   // è·å–è‡ªèº«ä¿¡æ¯
    }
}
```

### 3. æ•°æ®åº“æ“ä½œ

#### è‡ªåŠ¨æƒé™æ§åˆ¶ï¼ˆæ¨èï¼‰

ä½¿ç”¨æ‹¦æˆªå™¨ä¸­é—´ä»¶åï¼Œæ‰€æœ‰æ•°æ®åº“æ“ä½œä¼šè‡ªåŠ¨åº”ç”¨æƒé™ï¼š

```go
// åœ¨APIå¤„ç†å‡½æ•°ä¸­
func (userApi *UserApi) GetUserList(c *gin.Context) {
    // è·å–å¸¦æœ‰æ‹¦æˆªå™¨çš„æ•°æ®åº“å®ä¾‹
    db := perUtil.GetInterceptorDB(c)
    
    var users []system.SysUser
    // è‡ªåŠ¨åº”ç”¨æ•°æ®æƒé™ï¼Œç”¨æˆ·åªèƒ½çœ‹åˆ°æœ‰æƒé™çš„æ•°æ®
    err := db.Find(&users).Error
    if err != nil {
        response.FailWithMessage("æŸ¥è¯¢å¤±è´¥", c)
        return
    }
    
    response.OkWithData(users, c)
}
```

#### æ‰‹åŠ¨æƒé™æ§åˆ¶

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶æƒé™ï¼š

```go
func (userApi *UserApi) GetUserList(c *gin.Context) {
    db := global.GVA_DB.Model(&system.SysUser{})
    
    // æ‰‹åŠ¨åº”ç”¨æ•°æ®æƒé™
    db = perUtil.PermissionHelperApp.ApplyDataPermissionToQuery(db, c, "sys_users")
    
    var users []system.SysUser
    err := db.Find(&users).Error
    if err != nil {
        response.FailWithMessage("æŸ¥è¯¢å¤±è´¥", c)
        return
    }
    
    // æ‰‹åŠ¨åº”ç”¨å­—æ®µæƒé™è¿‡æ»¤
    filteredUsers := perUtil.PermissionHelperApp.FilterFieldsByPermission(c, users, "sys_users", "view")
    
    response.OkWithData(filteredUsers, c)
}
```

#### è·³è¿‡æƒé™æ£€æŸ¥

åœ¨æŸäº›ç³»ç»Ÿæ“ä½œä¸­éœ€è¦è·³è¿‡æƒé™æ£€æŸ¥ï¼š

```go
// è·³è¿‡æ•°æ®æƒé™æ£€æŸ¥
db := perUtil.SkipDataPermission(global.GVA_DB)
var allUsers []system.SysUser
db.Find(&allUsers)

// æ ‡è®°ä¸ºç³»ç»Ÿæ“ä½œ
db = perUtil.SetSystemOperation(global.GVA_DB)
var systemUsers []system.SysUser
db.Find(&systemUsers)
```

### 3. å‰ç«¯é…ç½®ç•Œé¢

#### è·¯ç”±é…ç½®

åœ¨ä¸»åº”ç”¨çš„è·¯ç”±é…ç½®ä¸­å¼•å…¥æ’ä»¶è·¯ç”±ï¼š

```javascript
// router/index.js
import DataPermissionRouter from '@/plugin/datapermission/router/index'

const routes = [
  {
    path: '/admin',
    component: Layout,
    children: [DataPermissionRouter]
  }
]
```

#### ç»„ä»¶ä½¿ç”¨

```vue
<template>
  <div class="data-permission-page">
    <!-- è§’è‰²æ ‘ç»„ä»¶ -->
    <RoleTree @role-selected="handleRoleSelected" ref="roleTreeRef" />
    
    <!-- æ•°æ®æƒé™é…ç½®ç»„ä»¶ -->
    <DataPermissionConfig 
      v-if="selectedRole" 
      :current-role="selectedRole" 
      :key="selectedRole.authorityId"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import RoleTree from '@/plugin/datapermission/components/RoleTree.vue'
import DataPermissionConfig from '@/plugin/datapermission/components/DataPermissionConfig.vue'

const selectedRole = ref(null)

const handleRoleSelected = (role) => {
  selectedRole.value = role
}
</script>
```

## ğŸ”Œ APIæ¥å£

### æ•°æ®æƒé™é…ç½®ç›¸å…³

```javascript
// è·å–æ•°æ®æƒé™é…ç½®
export const getDataPermissionConfig = (data) => {
  return service({
    url: '/datapermission/getConfig?tableName=' + data.tableName + '&authorityId=' + data.authorityID,
    method: 'get',
  })
}

// ä¿å­˜æ•°æ®æƒé™é…ç½®
export const saveDataPermissionConfig = (data) => {
  return service({
    url: '/datapermission/saveConfig',
    method: 'post',
    data
  })
}

// è·å–æ•°æ®åº“è¡¨åˆ—è¡¨
export const getDatabaseTables = () => {
  return service({
    url: '/datapermission/tableList',
    method: 'get'
  })
}

// è·å–è¡¨å­—æ®µä¿¡æ¯
export const getTableColumns = (tableName) => {
  return service({
    url: '/datapermission/fieldList',
    method: 'get',
    params: { tableName }
  })
}
```

### å—æ§è¡¨ç®¡ç†ç›¸å…³

```javascript
// è·å–å—æ§è¡¨åˆ—è¡¨
export const getControlledTables = () => {
  return service({
    url: '/datapermission/controlledTableList',
    method: 'get'
  })
}

// åˆ›å»ºå—æ§è¡¨
export const createControlledTable = (data) => {
  return service({
    url: '/datapermission/controlledTable',
    method: 'post',
    data
  })
}

// åˆ é™¤å—æ§è¡¨
export const deleteControlledTable = (data) => {
  return service({
    url: '/datapermission/controlledTable',
    method: 'delete',
    data
  })
}
```

## ğŸ’¡ ä»£ç ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç”¨æˆ·ç®¡ç†æ¨¡å—æƒé™æ§åˆ¶

```go
// ç”¨æˆ·è·¯ç”±é…ç½®
func (s *UserRouter) InitUserRouter(Router *gin.RouterGroup) {
    userRouter := Router.Group("user").Use(perUtil.DataPermissionAutoMiddleware())
    userRouterWithoutRecord := Router.Group("user").Use(perUtil.DataPermissionAutoMiddleware())
    
    {
        userRouter.DELETE("deleteUser", baseApi.DeleteUser)               // åˆ é™¤ç”¨æˆ·
        userRouter.PUT("setUserInfo", baseApi.SetUserInfo)                // è®¾ç½®ç”¨æˆ·ä¿¡æ¯
    }
    {
        userRouterWithoutRecord.POST("getUserList", baseApi.GetUserList) // åˆ†é¡µè·å–ç”¨æˆ·åˆ—è¡¨
        userRouterWithoutRecord.GET("getUserInfo", baseApi.GetUserInfo)  // è·å–è‡ªèº«ä¿¡æ¯
    }
}

// ç”¨æˆ·APIå®ç°
func (userApi *UserApi) GetUserList(c *gin.Context) {
    var pageInfo request.PageInfo
    err := c.ShouldBindJSON(&pageInfo)
    if err != nil {
        response.FailWithMessage(err.Error(), c)
        return
    }
    
    // è·å–å¸¦æœ‰æ‹¦æˆªå™¨çš„æ•°æ®åº“å®ä¾‹ï¼Œè‡ªåŠ¨åº”ç”¨æ•°æ®æƒé™
    db := perUtil.GetInterceptorDB(c)
    
    userList, total, err := userService.GetUserInfoList(pageInfo, db)
    if err != nil {
        global.GVA_LOG.Error("è·å–å¤±è´¥!", zap.Error(err))
        response.FailWithMessage("è·å–å¤±è´¥", c)
        return
    }
    
    response.OkWithDetailed(response.PageResult{
        List:     userList,
        Total:    total,
        Page:     pageInfo.Page,
        PageSize: pageInfo.PageSize,
    }, "è·å–æˆåŠŸ", c)
}
```

### ç¤ºä¾‹2ï¼šæ•°æ®èŒƒå›´é…ç½®

```yaml
# é…ç½®ç¤ºä¾‹ï¼šä¸åŒè§’è‰²çš„æ•°æ®èŒƒå›´

# è¶…çº§ç®¡ç†å‘˜ - æŸ¥çœ‹æ‰€æœ‰æ•°æ®
role: admin
data_scope: all
custom_condition: "1=1"

# éƒ¨é—¨ç®¡ç†å‘˜ - æŸ¥çœ‹æœ¬éƒ¨é—¨åŠå­éƒ¨é—¨æ•°æ®
role: dept_admin
data_scope: dept_and_children
custom_condition: "dept_id IN (SELECT id FROM sys_dept WHERE dept_path LIKE CONCAT((SELECT dept_path FROM sys_dept WHERE id = ?), '%'))"

# æ™®é€šç”¨æˆ· - åªæŸ¥çœ‹è‡ªå·±çš„æ•°æ®
role: user
data_scope: self
custom_condition: "created_by = ?"
```

### ç¤ºä¾‹3ï¼šå­—æ®µæƒé™é…ç½®

```javascript
// å‰ç«¯å­—æ®µæƒé™é…ç½®ç¤ºä¾‹
const fieldPermissions = {
  // ç”¨æˆ·è¡¨å­—æ®µæƒé™
  sys_users: {
    username: { visible: true, editable: false, exportable: true, queryable: true },
    password: { visible: false, editable: false, exportable: false, queryable: false },
    phone: { visible: true, editable: true, exportable: true, queryable: true },
    email: { visible: true, editable: true, exportable: true, queryable: true },
    salary: { visible: false, editable: false, exportable: false, queryable: false }
  }
}
```

## â“ å¸¸è§é—®é¢˜

### Q1: æ’ä»¶å®‰è£…åæ— æ³•è®¿é—®é¡µé¢ï¼Ÿ
**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤è·¯ç”±é…ç½®æ˜¯å¦æ­£ç¡®æ·»åŠ åˆ°ä¸»è·¯ç”±æ–‡ä»¶ä¸­
2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰è®¿é—®æƒé™
3. ç¡®è®¤æ’ä»¶æ˜¯å¦æ­£ç¡®æ³¨å†Œ

### Q2: æƒé™é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ
**A**: è¯·æ£€æŸ¥ï¼š
1. ä¸­é—´ä»¶æ˜¯å¦æ­£ç¡®é…ç½®
2. å—æ§è¡¨æ˜¯å¦å·²æ·»åŠ å¹¶å¯ç”¨
3. è§’è‰²æƒé™é…ç½®æ˜¯å¦æ­£ç¡®
4. æ¸…é™¤æƒé™ç¼“å­˜åé‡æ–°æµ‹è¯•

### Q3: æ•°æ®åº“è¿ç§»å¤±è´¥ï¼Ÿ
**A**: è¯·ç¡®ä¿ï¼š
1. æ•°æ®åº“è¿æ¥æ­£å¸¸
2. ç”¨æˆ·å…·æœ‰åˆ›å»ºè¡¨çš„æƒé™
3. æ£€æŸ¥æ•°æ®åº“ç‰ˆæœ¬å…¼å®¹æ€§

### Q4: å¦‚ä½•è°ƒè¯•æƒé™é—®é¢˜ï¼Ÿ
**A**: å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è°ƒè¯•ï¼š
1. å¯ç”¨SQLæ—¥å¿—æŸ¥çœ‹ç”Ÿæˆçš„æƒé™æ¡ä»¶
2. ä½¿ç”¨ `SkipDataPermission` è·³è¿‡æƒé™æ£€æŸ¥å¯¹æ¯”ç»“æœ
3. æ£€æŸ¥ç”¨æˆ·è§’è‰²å’Œæƒé™é…ç½®

### Q5: æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼Ÿ
**A**: 
1. å¯ç”¨æƒé™ç¼“å­˜
2. åˆç†è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´
3. é¿å…è¿‡äºå¤æ‚çš„è‡ªå®šä¹‰SQLæ¡ä»¶
4. å®šæœŸæ¸…ç†æ— ç”¨çš„æƒé™é…ç½®

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æƒé™è®¾è®¡åŸåˆ™
- **æœ€å°æƒé™åŸåˆ™**: ç”¨æˆ·åªèƒ½è®¿é—®å®Œæˆå·¥ä½œæ‰€éœ€çš„æœ€å°‘æ•°æ®
- **èŒè´£åˆ†ç¦»**: ä¸åŒè§’è‰²å…·æœ‰ä¸åŒçš„æ•°æ®è®¿é—®æƒé™
- **æƒé™ç»§æ‰¿**: å­è§’è‰²å¯ä»¥ç»§æ‰¿çˆ¶è§’è‰²çš„æƒé™

### 2. é…ç½®å»ºè®®
- **ç»Ÿä¸€ä½¿ç”¨æ‹¦æˆªå™¨**: æ¨èä½¿ç”¨ `DataPermissionAutoMiddleware()` å®ç°è‡ªåŠ¨æƒé™æ§åˆ¶
- **åˆç†è®¾ç½®ç¼“å­˜**: æ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾ç½®åˆé€‚çš„ç¼“å­˜è¿‡æœŸæ—¶é—´
- **å®šæœŸå®¡è®¡**: å®šæœŸæ£€æŸ¥å’Œæ¸…ç†æƒé™é…ç½®

### 3. å¼€å‘å»ºè®®
- **æµ‹è¯•è¦†ç›–**: ä¸ºæƒé™ç›¸å…³åŠŸèƒ½ç¼–å†™å……åˆ†çš„æµ‹è¯•ç”¨ä¾‹
- **æ—¥å¿—è®°å½•**: å¯ç”¨æƒé™æ“ä½œæ—¥å¿—ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥
- **æ–‡æ¡£ç»´æŠ¤**: åŠæ—¶æ›´æ–°æƒé™é…ç½®æ–‡æ¡£

### 4. å®‰å…¨å»ºè®®
- **SQLæ³¨å…¥é˜²æŠ¤**: å¯ç”¨SQLæ³¨å…¥æ£€æŸ¥
- **æ•æ„Ÿå­—æ®µä¿æŠ¤**: å¯¹æ•æ„Ÿå­—æ®µè®¾ç½®ä¸¥æ ¼çš„è®¿é—®æƒé™
- **æ“ä½œå®¡è®¡**: è®°å½•æ‰€æœ‰æƒé™ç›¸å…³çš„æ“ä½œæ—¥å¿—

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¸®åŠ©ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**: æ£€æŸ¥åº”ç”¨æ—¥å¿—å’Œæ•°æ®åº“æ—¥å¿—
2. **å®˜æ–¹æ–‡æ¡£**: å‚è€ƒ gin-vue-admin å®˜æ–¹æ–‡æ¡£
3. **ç¤¾åŒºæ”¯æŒ**: åœ¨ GitHub æˆ–ç¤¾åŒºè®ºå›æé—®
4. **è°ƒè¯•æ¨¡å¼**: å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

---

*æœ¬æ‰‹å†ŒåŸºäº gin-vue-admin æ•°æ®æƒé™æ’ä»¶ v1.0.0 ç¼–å†™ï¼Œå¦‚æœ‰æ›´æ–°è¯·å‚è€ƒæœ€æ–°ç‰ˆæœ¬æ–‡æ¡£ã€‚*